@model Cart

<h2>Checkout</h2>

<form asp-action="Checkout" method="post">
    @Html.ValidationSummary(true, "", new { @class = "text-danger" }) <!-- Show validation errors -->

    <div class="form-group">
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" name="FirstName" class="form-control" required />
    </div>
    <div class="form-group">
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" name="LastName" class="form-control" required />
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="Email" class="form-control" required />
    </div>
    <div class="form-group">
        <label for="address">Address</label>
        <input type="text" id="address" name="Address" class="form-control" required />
    </div>
    <div class="form-group">
        <label for="city">City</label>
        <input type="text" id="city" name="City" class="form-control" required />
    </div>
    <div class="form-group">
        <label for="country">Country</label>
        <input type="text" id="country" name="Country" class="form-control" required />
    </div>
    <div class="form-group">
        <label for="zipCode">ZIP Code</label>
        <input type="text" id="zipCode" name="ZIPCode" class="form-control" required />
    </div>
    <div class="form-group">
        <label for="telephone">Telephone</label>
        <input type="tel" id="telephone" name="Telephone" class="form-control" required />
    </div>
    <div class="form-group form-check">
        <input type="checkbox" id="createAccount" name="CreateAccount" class="form-check-input" />
        <label for="createAccount" class="form-check-label">Create Account?</label>
    </div>

    <h4>Your Order</h4>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Product</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.CartItems)
            {
                <tr>
                    <td>@item.Quantity x @item.Product.Name</td>
                    <td>@(item.Quantity * item.Product.Price)</td> <!-- Formatting to currency -->
                </tr>
            }
            <tr>
                <td>Shipping</td>
                <td>FREE</td> <!-- Adjust based on your shipping logic -->
            </tr>
            <tr>
                <td><strong>TOTAL</strong></td>
                <td><strong>@Model.TotalPrice.ToString("C")</strong></td> <!-- This should show the total -->
            </tr>
        </tbody>
    </table>

    <h4>Payment Method</h4>
    <div class="form-group form-check">
        <input type="radio" id="bankTransfer" name="PaymentMethod" value="Direct Bank Transfer" class="form-check-input" required />
        <label for="bankTransfer" class="form-check-label">Direct Bank Transfer</label>
    </div>
    <div class="form-group form-check">
        <input type="radio" id="cheque" name="PaymentMethod" value="Cheque Payment" class="form-check-input" required />
        <label for="cheque" class="form-check-label">Cheque Payment</label>
    </div>
    <div class="form-group form-check">
        <input type="radio" id="paypal" name="PaymentMethod" value="Paypal" class="form-check-input" required />
        <label for="paypal" class="form-check-label">Paypal System</label>
    </div>

    <button type="submit" class="btn btn-primary">Place Order</button>
</form>
